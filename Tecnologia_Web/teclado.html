<!DOCTYPE html>
<html>
<head>
  <title>Eventos de Teclado e Rato</title>
  <style>
    body {
      height: 100vh;
      margin: 0;
      font-family: Arial, sans-serif;
      position: relative;
    }

    #dot {
      width: 50px;
      height: 50px;
      background-color: red;
      border-radius: 50%;
      position: absolute;
      top: 100px;
      left: 100px;
      cursor: grab;
      user-select: none;
    }

    #log {
      position: fixed;
      bottom: 10px;
      left: 10px;
      background: #f0f0f0;
      border: 1px solid #000;
      padding: 10px;
      width: 300px;
      max-height: 200px;
      overflow-y: auto;
      font-size: 14px;
    }
  </style>
</head>
<body>

<h1>Eventos de Teclado e Rato</h1>
<p>Mova o ponto vermelho com o rato ou com as teclas <strong>I, J, K, M</strong>:</p>

<div id="dot"></div>

<div id="log">
  <strong>Logs de eventos:</strong><br>
</div>

<script>
window.onload = function() {
    const dot = document.getElementById("dot");
    const log = document.getElementById("log");

    let x = 0, y = 0;
    let moving = false;

    function logEvento(mensagem) {
        log.innerHTML += mensagem + "<br>";
        console.log(mensagem);
    }

    // -------------------
    // Movimento com rato
    // -------------------
    dot.onmousedown = function(event) {
        x = event.clientX;
        y = event.clientY;
        moving = true;
        dot.style.cursor = "grabbing";
        logEvento(`mousedown em (${x}, ${y})`);
        event.preventDefault();
    };

    dot.onmousemove = function(event) {
        if (!moving) return;
        const dx = event.clientX - x;
        const dy = event.clientY - y;
        dot.style.left = (dot.offsetLeft + dx) + "px";
        dot.style.top = (dot.offsetTop + dy) + "px";
        x = event.clientX;
        y = event.clientY;
        logEvento(`mousemove em (${x}, ${y})`);
        event.preventDefault();
    };

    document.onmouseup = function(event) {
        if (moving) {
            moving = false;
            dot.style.cursor = "grab";
            logEvento(`mouseup em (${event.clientX}, ${event.clientY})`);
        }
    };

    // -------------------
    // Movimento com teclado
    // -------------------
    document.onkeypress = function(event) {
    // pegar os valores reais atuais
    let style = window.getComputedStyle(dot);
    let left = parseInt(style.left);
    let top  = parseInt(style.top);

    switch(event.key) {
        case "k": case "K": left += 10; break; // direita
        case "j": case "J": left -= 10; break; // esquerda
        case "i": case "I": top  -= 10; break; // cima
        case "m": case "M": top  += 10; break; // baixo
    }

    dot.style.left = left + "px";
    dot.style.top  = top + "px";

    logEvento(`keypress "${event.key}" => posição (${left}, ${top})`);
};

};
</script>

</body>
</html>
